-- Migration Script

BEGIN TRANSACTION

ALTER TABLE [Demo].[Contact]
  ADD StartTime DATETIME2 GENERATED ALWAYS AS ROW START HIDDEN NOT NULL DEFAULT GETUTCDATE(),
      EndTime DATETIME2 GENERATED ALWAYS AS ROW END HIDDEN NOT NULL DEFAULT CONVERT(DATETIME2, '9999-12-31 23:59:59.9999999'),
  PERIOD FOR SYSTEM_TIME (StartTime, EndTime)

ALTER TABLE [Demo].[Contact]
  SET (SYSTEM_VERSIONING = ON (HISTORY_TABLE = [Demo].[ContactHistory]))
	
COMMIT TRANSACTION