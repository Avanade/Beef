# 'Property' element (entity-driven)

The **`Property`** element defines a property and its characteristics.

An example is as follows:

```xml
<Property Name="Id" Text="{{Person}} identifier" Type="int" Immutable="true" UniqueKey="true" DataAutoGenerated="true" DataName="PersonId" />
<Property Name="FirstName" Type="string" />
<Property Name="LastName" Type="string" />
<Property Name="Gender" Type="RefDataNamespace.Gender" RefDataType="string" DataName="GenderId" />
<Property Name="Birthday" Type="DateTime" DateTimeTransform="DateOnly" />
```

<br/>

## Attributes

The **`Property`** element supports a number of attributes that control the generated code output. These attributes has been broken into logical categories. The attributes with a bold name are those that are more typically used.

The following represents the **key** property attributes: 

Attribute | Description
---|---
**`Name`** | Unique property name. This is mandatory.
`Text` | Text to be used in comments. Defaults to the `Name` converted to sentence case. Depending on whether the `Type` is bool, will appear in one of the two generated sentences: 'Gets or sets a value indicating whether \{text}.' or 'Gets or sets the \{text}.'. To create a `<see cref="XXX"/>` use moustache shorthand (e.g. \{{Xxx}}).
`Inherited` | Indicates whether the property is inherited and therefore should not be output within the generated entity class.
`PrivateName` | Name to be used for private fields; e.g. 'FirstName' reformatted as '_firstName'. Defaults from `Name`.
`ArgumentName` | Name to be used for argument parameters; e.g. 'FirstName' reformatted as 'firstName'. Defaults from `Name`.

<br/>

### Property definition attributes

The following represents the key .NET **property definition** attributes:

Attribute | Description
---|---
**`Type`** | Specifies the .NET type. Defaults to `string`. To reference a Reference Data type always prefix with `RefDataNamespace` (e.g. `RefDataNamespace.Gender`). This will ensure that the appropriate Reference Data using statement is used. _Shortcut:_ Where the value starts with (prefix) `RefDataNamespace.` and the correspondong `RefDataType` attribute is not specified it will automatically default the `RefDataType` to `string`.
**`Nullable`** | Indicates that the .NET Type should be declared as nullable; e.g. `Nullable<T>`.
**`UniqueKey`** | Indicates that the property is considered part of the unique key. This is also used to simplify the parameter specification for entity operations.
`Immutable` | Indicates that the value is immutable; cannot be changed once set. Consider using for properties that are a `UniqueKey`.
`DateTimeTransform` | Specifies the `DateTime` transformation to be performed on Set and CleanUp. Options are: `None`, `DateOnly`, `DateTimeLocal` (default), `DateTimeUtc` and `DateTimeUnspecified`. Only applied where the `Type` is `DateTime`.
`StringTrim` | Specifies the `string` trimming of white space characters to be performed on `Set` and `CleanUp` within an entity. Options are: `None`, `Both`, `End` (default) and `Start`. Only applied where the `Type` is `string`.
`StringTransform` | Specifies the `string` transformation option to be performed on `Set` and `CleanUp` within an entity. Options are: `None`, `NullToEmpty` and `EmptyToNull` (default). Only applied where the `Type` is `string`.
`AutoCreate` | Indicates that an instance of the `Type` is to be automatically created/instantiated when the property is accessed (i.e. lazy instantiation).
`Default` | Specifies the default value. Where the `Type` is `string` then the specified default value will need to be delimited. Any valid value assignment C# code can be used.
`SecondaryPropertyChanged` | Name of the secondary property(s), comma delimited, that are to be notified on a property change.
`IsEntity` | Indicates that the property `Type` is another generated entity / collection and therefore specific capabilities can be assumed (e.g. `CopyFrom` and `Clone`).
`BubblePropertyChanged` | Indicates whether the value should bubble up property changes versus only recording within the sub-entity (see `IsEntity`) itself.
`ExcludeCleanup` | Indicates that CleanUp is not to be performed for the property within the `Entity.CleanUp` method.

<br/>

### Reference data attributes

The following represents the **Reference Data** attributes:

Attribute | Description
---|---
**`RefDataType`** | Identifies the `Type` as being a Reference Data type as well as specifying the underlying .NET Type used for the Reference Data identifier serialization (SID). Options are: `string`, `int` and `Guid`. _Shortcut:_ Where the value is not specified and the corresponding `Type` attribute value starts with (prefix) `RefDataNamespace.` it will automatically default to `string`.
`RefDataList` | Indicates that the Reference Data property is to be a serializable list (`ReferenceDataSidList`). This is required to enable a list of Reference Data values (as per `RefDataType`) to be passed as an argument for example.
`RefDataText` | Indicates whether a corresponding *text* property is added when generating a reference data propety. This is generally only used where serializing within the `Controller` and the `ExecutionContext.IsRefDataTextSerializationEnabled` is set to `true` (automatically performed where url contains '$text=true').
`RefDataMapping` | Indicates whether the property should use the underlying Reference Data mapping capabilities. Mapped properties are a special Reference Data property type that ensure value uniqueness; this allows the likes of additional to/from mappings to occur between systems where applicable.

<br/>

### Serialization attributes

The following represents the **serialization** attributes:

Attribute | Description
---|---
`JsonName` | The name for the JSON property. Defaults to `ArgumentName` (i.e. camelCase).
`IgnoreSerialization` | Indicates whether the property is not to be serialized. All properties are serialized by default.
`EmitDefaultValue` | Indicates whether to emit the default value when serializing (defaults to `false`).

<br/>

### Web API attributes

The following represents the **Web API** attributes:

Attribute | Description
---|---
`WebApiQueryStringConverter` | Specifies the `IPropertyMapperConverter` to perform `Type` to `string` conversion for writing to and parsing from the query string. Adds `WebApiArgFormatterAttribute` referencing `WebApiQueryStringConverter` to the entity code generation for use by the `WebApiArg` logic to write to the query string. The `Controller` code generation references `WebApiQueryStringConverter` directly to parse the query string into the underlying `Type`.

<br/>

### Data attributes

The following represents the corresponding **data** attributes:

Attribute | Description
---|---
`DataMapperIgnore` | Indicates whether the property should be ignored (excluded) from the Data / DataMapper generated output. All properties are included by default; i.e. defaults to `false`.
**`DataName`** | Specifies the data name where `Entity.AutoImplement` is selected. Defaults to the property `Name`. Represents the column name for a database, or property name for OData.
`DataAutoGenerated` | Indicates that the `UniqueKey` value is automatically generated by the data source on create.
**`DataConverter`** | Specifies the data converter class name where `Entity.AutoImplement` is selected. A `Converter` is used to convert a data source value to/from a .NET type where no standard data conversion can be applied.
**`IsDataConverterGeneric`** | Indicates that the data converter is a generic class and will automatically use the corresponding property `Type` as `T`.
`DataOperationTypes` | Specifies the operations types selection to enable inclusion and exclusion of property mapping. Options are: `Any` (default), `AnyExceptCreate`, `AnyExceptUpdate`, `AnyExceptGet`, `Get`, `Create`, `Update` and `Delete`.
`DataDatabaseMapper` | Specifies the database	Mapper	 class name where `Entity.AutoImplement` is selected. A `Mapper	` is used to convert a data source value to/from a .NET complex type (i.e. class with one or more properties).
`DataDatabaseIgnore` | Indicates whether the property should be ignored (excluded) from the database `Mapper	` generated output.
`DataEntityFrameworkMapper` | Specifies the entity framework `Mapper` class name where `Entity.AutoImplement` is selected. A `Mapper` is used to convert a data source value to/from a .NET complex type (i.e. class with one or more properties).
`DataEntityFrameworkIgnore` | Indicates whether the property should be ignored (excluded) from the entity framework `Mapper` generated output.
`DataODataMapper` | Specifies the OData `Mapper` class name where `Entity.AutoImplement` is selected. A `Mapper` is used to convert a data source value to/from a .NET complex type (i.e. class with one or more properties).
`DataODataIgnore` | Indicates whether the property should be ignored (excluded) from the OData `Mapper` generated output.
`DataCosmosMapper` | Specifies the Cosmos `Mapper` class name where `Entity.AutoImplement` is selected. A `Mapper` is used to convert a data source value to/from a .NET complex type (i.e. class with one or more properties).
`DataCosmosIgnore` | Indicates whether the property should be ignored (excluded) from the Cosmos `Mapper` generated output.

<br/>

### Annotation attributes

The following represents additional **annotation** attributes:

Attribute | Description
---|---
`DisplayName` | Overrides the display name (`DisplayAttribute[Name={value}]`) of the property. Defaults to the property `Name` as sentence case.
`Annotation1` | Property annotation (e.g. attribute) declaration code.
`Annotation2` | Property annotation (e.g. attribute) declaration code.
`Annotation3` | Property annotation (e.g. attribute) declaration code.

<br/>

### gRPC attributes

The following represents optional **[gRPC](../src/Beef.Grpc/README.md)** attributes:

Attribute | Description
-|-
`GrpcFieldNo` | Specifies the unique (immutable) field number required to enable gRPC support.